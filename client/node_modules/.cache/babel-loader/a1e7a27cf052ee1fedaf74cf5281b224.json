{"ast":null,"code":"var _jsxFileName = \"D:\\\\BankingSystem\\\\client\\\\src\\\\components\\\\OpenAccount.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst OpenAccount = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [password, setPassword] = useState('');\n  const [bankId, setBankId] = useState('');\n  const [banks, setBanks] = useState([]);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    // Fetch available banks\n    axios.get('http://localhost:5000/api/auth/banks').then(res => setBanks(res.data)).catch(err => console.error('Fetch Banks Error:', err));\n  }, []);\n  const handleSignupAndOpenAccount = async e => {\n    e.preventDefault();\n    try {\n      // Signup\n      const signupRes = await axios.post('http://localhost:5000/api/auth/signup', {\n        name,\n        email,\n        phone,\n        password\n      });\n      const userId = signupRes.data.userId;\n\n      // Open account\n      const accountRes = await axios.post('http://localhost:5000/api/auth/open-account', {\n        userId,\n        bankId,\n        accountHolderName: name\n      });\n      setMessage(accountRes.data.msg);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error:', err);\n      setMessage(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'Error occurred');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Open Bank Account\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSignupAndOpenAccount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Full Name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Phone\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    value: bankId,\n    onChange: e => setBankId(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Select Bank\"), banks.map(bank => /*#__PURE__*/React.createElement(\"option\", {\n    key: bank._id,\n    value: bank._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, bank.name))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, message));\n};\nexport default OpenAccount;","map":{"version":3,"names":["React","useState","useEffect","axios","OpenAccount","name","setName","email","setEmail","phone","setPhone","password","setPassword","bankId","setBankId","banks","setBanks","message","setMessage","get","then","res","data","catch","err","console","error","handleSignupAndOpenAccount","e","preventDefault","signupRes","post","userId","accountRes","accountHolderName","msg","_err$response","_err$response$data","response","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","map","bank","key","_id"],"sources":["D:/BankingSystem/client/src/components/OpenAccount.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nconst OpenAccount = () => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [bankId, setBankId] = useState('');\r\n  const [banks, setBanks] = useState([]);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Fetch available banks\r\n    axios.get('http://localhost:5000/api/auth/banks')\r\n      .then(res => setBanks(res.data))\r\n      .catch(err => console.error('Fetch Banks Error:', err));\r\n  }, []);\r\n\r\n  const handleSignupAndOpenAccount = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Signup\r\n      const signupRes = await axios.post('http://localhost:5000/api/auth/signup', { name, email, phone, password });\r\n      const userId = signupRes.data.userId;\r\n\r\n      // Open account\r\n      const accountRes = await axios.post('http://localhost:5000/api/auth/open-account', {\r\n        userId,\r\n        bankId,\r\n        accountHolderName: name,\r\n      });\r\n      setMessage(accountRes.data.msg);\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      setMessage(err.response?.data?.msg || 'Error occurred');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Open Bank Account</h2>\r\n      <form onSubmit={handleSignupAndOpenAccount}>\r\n        <input type=\"text\" placeholder=\"Full Name\" value={name} onChange={(e) => setName(e.target.value)} required />\r\n        <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\r\n        <input type=\"text\" placeholder=\"Phone\" value={phone} onChange={(e) => setPhone(e.target.value)} required />\r\n        <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n        <select value={bankId} onChange={(e) => setBankId(e.target.value)} required>\r\n          <option value=\"\">Select Bank</option>\r\n          {banks.map(bank => (\r\n            <option key={bank._id} value={bank._id}>{bank.name}</option>\r\n          ))}\r\n        </select>\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OpenAccount;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}